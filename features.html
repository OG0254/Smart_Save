<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>SmartSave — Features</title></title>
    <link rel="stylesheet" href="css/styles.css" />
  </head>
  <body>
    <header class="navbar">
      <div class="container nav-inner">
        <div class="brand">SmartSave</div>
        <nav class="nav-links">
          <a href="index.html">Home</a>
          <a href="features.html" class="active">Features</a>
          <a href="impact.html">Impact</a>
          <a href="about.html">About</a>
          <a href="team.html">Team</a>
          <a href="contact.html">Contact</a>
        </nav>
        <button class="burger" onclick="toggleMenu()">☰</button>
      </div>
    </header>

    <main class="container">
      <section class="features-intro">
        <!-- Profile Selector -->
        <section id="profile-section" class="feature-card">
          <h2>Profile</h2>
          <div class="profile-controls">
            <input type="text" id="profileName" placeholder="Enter profile name" />
            <button id="setProfile">Set Profile</button>

            <select id="profileSelect">
              <option value="">-- Select Profile --</option>
            </select>
          </div>

          <p class="small-muted">Data will be saved locally for this profile only.</p>
          <p>Active Profile: <strong id="active-profile">None</strong></p>
        </section>

        <h1>Features</h1>
        <p class="small-muted">Try the tools below everything is client-side and demo-ready.</p>
      </section>

      <!-- Budget Calculator -->
      <section id="budget-calculator" class="feature-card">
        <h2>Budget Calculator</h2>
        <form id="budget-form">
          <div class="form-row">
            <label for="income">Monthly Income (Ksh)</label>
            <input type="number" id="income" placeholder="e.g., 50000" required />
          </div>

          <div id="expenses-container">
            <label>Expenses</label>
            <div class="expense-item">
              <input type="text" name="expense-name" class="expense-name" placeholder="Rent" />
              <input type="number" name="expense-value" class="expense-value" placeholder="12000" />
              <button type="button" class="remove-expense" aria-label="Remove">✕</button>
            </div>
            <div class="expense-item">
              <input type="text" name="expense-name" class="expense-name" placeholder="Food" />
              <input type="number" name="expense-value" class="expense-value" placeholder="8000" />
              <button type="button" class="remove-expense" aria-label="Remove">✕</button>
            </div>
          </div>

          <div class="form-actions">
            <button type="button" id="add-expense" class="btn">+ Add Expense</button>
            <button type="submit" class="btn">Generate Chart</button>
          </div>
        </form>

        <div class="results">
          <p>Total Income: Ksh <span id="display-income">0</span></p>
          <p>Total Expenses: Ksh <span id="display-expenses">0</span></p>
          <p>
            <strong>Remaining Balance: Ksh <span id="display-balance">0</span></strong>
          </p>
        </div>

        <div class="chart-wrap">
          <canvas
            id="budgetChart"
            width="420"
            height="300"
            aria-label="Budget breakdown chart"
          ></canvas>
        </div>
      </section>

      <!-- Savings Goal Tracker -->
      <section id="savings-tracker" class="feature-card">
        <h2>Savings Goal Tracker</h2>
        <form id="savings-form">
          <div class="form-row">
            <label for="goal">Goal amount (Ksh)</label>
            <input type="number" id="goal" placeholder="e.g., 200000" required />
          </div>
          <div class="form-row">
            <label for="monthly">Monthly saving (Ksh)</label>
            <input type="number" id="monthly" placeholder="e.g., 5000" required />
          </div>
          <div class="form-actions">
            <button class="btn" type="submit">Track</button>
          </div>
        </form>

        <div class="results">
          <div class="progress-bar" aria-hidden="true"><div id="progress-fill"></div></div>
          <p>Saved: Ksh <span id="saved-amount">0</span> / Ksh <span id="goal-display">0</span></p>
          <p>Estimated timeline: <span id="timeline">0 months</span></p>
          <p id="motivation-message" class="motivation"></p>
        </div>
      </section>

      <!-- Templates -->
      <section id="templates" class="feature-card">
        <h2>Downloadable Templates</h2>
        <p class="small-muted">Use these to plan and track offline.</p>
        <button id="view-templates" class="btn">View Templates</button>
      </section>

      <!-- Templates Modal -->
      <div id="templates-modal" class="modal" aria-hidden="true">
        <div class="modal-content">
          <button class="modal-close" id="close-templates" aria-label="Close">✕</button>
          <h3>Templates</h3>
          <div class="templates-grid" id="templates-grid">
            <!-- Filled by app.js: cards with thumbnail + download. -->
          </div>
        </div>
      </div>

      <!-- Accordion Tips -->
      <section id="feature-tips" class="feature-card">
        <h2>SmartSave Tips</h2>
        <div id="accordion" class="accordion">
          <!-- Populated from data/data.json -->
        </div>
      </section>
    </main>

    <footer class="footer">
      <div class="container">Made with ❤️ SmartSave</div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="js/app.js"></script>
  </body>
</html>
